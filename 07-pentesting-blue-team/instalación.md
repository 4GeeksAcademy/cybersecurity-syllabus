

# PREWORK

## **ConfiguraciÃ³n del entorno en Kali Linux**

Este es un tema ya abordado en este bootcamp, a modo de repaso dejare el material completo y agregamos y ampliamos mÃ¡s algunos completos para un comprendimiento mucho mÃ¡s profundo en la materia.

### CÃ³mo crear un Laboratorio de Hacking

Tener un laboratorio de hacking es esencial para el aprendizaje prÃ¡ctico y el perfeccionamiento de habilidades. Este artÃ­culo te guiarÃ¡ paso a paso en la creaciÃ³n de tu laboratorio de hacking en 2024, proporcionando las herramientas y conocimientos necesarios para experimentar de manera segura y efectiva en un entorno controlado.

Aprender ciberseguridad requiere muchos ejercicios prÃ¡cticos. Para eso, es Ãºtil tener un entorno dedicado y protegido para practicar diferentes tÃ©cnicas de forma legal y segura.

Puedes lograr esto de dos maneras:

- La primera es tener tu propio laboratorio de hacking, creado con fines educativos y con un equipamiento realista, similar al que encontrarÃ­as en una red normal.
- Y el segundo es a travÃ©s de plataformas CTF (Capture The Flag), que son sitios web con desafÃ­os de ciberseguridad por resolver.

En esta guÃ­a, te mostrarÃ© cÃ³mo construir un laboratorio para practicar hacking. Este entorno contarÃ¡ con servidores reales que podrÃ¡s utilizar sin meterte en problemas.

Para eso vamos a preparar un entorno virtualizado con herramientas gratuitas que luego usaremos para implementar tÃ¡cticas ofensivas y defensivas. Lo Ãºnico que necesitas es una computadora portÃ¡til o de escritorio.

> ğŸ¤“ El hacking Ã©tico es una habilidad que se aprende con el tiempo.
</aside>

Se requiere prÃ¡ctica y paciencia para alcanzar un nivel de habilidad decente en este campo. Tener a mano una configuraciÃ³n de laboratorio puede ayudarte mucho en tu aprendizaje. Un laboratorio le permite practicar sus habilidades en un entorno controlado, lo que reduce los riesgos que surgen al practicar en sistemas reales. Tener tu laboratorio virtual te ayudarÃ¡ de muchas maneras:

- Puedes practicar en cualquier momento segÃºn tu conveniencia.
- No tiene que exponer sus datos al peligro de que se borren debido a una infecciÃ³n de malware.
- TambiÃ©n se salva de problemas legales que pueden resultar de realizar pruebas en un sitio web real que no es de su propiedad.
- Tienes la libertad de experimentar y modificar (casi imposible con los laboratorios en lÃ­nea).

Aprender hacking y convertirse en un hacker Ã©tico experto requiere una prÃ¡ctica inmensa. Para ello, necesita configurar un laboratorio donde pueda probar las cosas que aprende. AdemÃ¡s, si practica en un sistema real, puede conllevar riesgos de seguridad.

### Objetivos

- Comprender cÃ³mo funcionan las mÃ¡quinas virtuales
- Aprenda a crear un entorno virtual bÃ¡sico para fines de pentesting.

### Requisitos

Arranquemos con lo que tengamos, pero es vital al menos tener:

- Windows 10, 11, macOS o cualquier distribuciÃ³n de Linux
- Al menos 16 GB de RAM, ya que vamos a virtualizar entornos, sino irÃ¡ muy lento. Esto se debe a que la memoria se divide entre el host y la mÃ¡quina virtual. (se recomiendan 32 GB para trabajar con multiples mÃ¡quina virtuales)
- Oracle Virtualbox o VMWare para crear las mÃ¡quinas virtuales dentro de su computadora fÃ­sica.
- MÃ¡quina atacante. Lo vamos a crear con Kali Linux para tener todas las herramientas ofensivas necesarias.
- MÃ¡quinas vÃ­ctimas que serÃ¡n servidores reales con vulnerabilidades que vamos a explotar. Usaremos VulnHub, que tiene un conjunto de mÃ¡quinas vulnerables listas para descargar y usar.

## PlanificaciÃ³n de la configuraciÃ³n de su laboratorio

Cuando comencÃ© a montar mi laboratorio personal, me di cuenta de que un poco de pensamiento estratÃ©gico ayuda mucho. Entonces, aquÃ­ estÃ¡ la primicia sobre cÃ³mo abordÃ© la fase de planificaciÃ³n:

**1. Definir tus metas y objetivos:** Lo primero es lo primero: me preguntÃ©: Â«Â¿Por quÃ© quiero este laboratorio?Â» Â¿Es para dominar una tÃ©cnica de hacking concreta, explorar las vulnerabilidades de la red o tal vez para comprender cÃ³mo funciona el malware? Tener objetivos claros en mente ayuda a dar forma al resto de tu configuraciÃ³n. Por ejemplo, si le interesa mÃ¡s la seguridad web, su laboratorio podrÃ­a inclinarse hacia plataformas y herramientas de prueba de aplicaciones web.

**2. Identificar herramientas y tecnologÃ­as:** Seamos realistas, el mundo del hacking Ã©tico tiene mÃ¡s herramientas que el taller de un personal de mantenimiento. ExaminÃ© los distintos tipos de herramientas, desde escÃ¡neres de red hasta descifradores de contraseÃ±as, y elegÃ­ las que se alineaban con mis objetivos. Es como armar la caja de herramientas de tus sueÃ±os: Â¡solo con lÃ­neas de cÃ³digo y exploits virtuales!

**3. Elegir el hardware y el software adecuados:** Ahora, antes de dejarse llevar y empezar a pedir un montÃ³n de dispositivos llamativos, piense en lo que se adapta a su espacio y presupuesto. Para mÃ­, el software de virtualizaciÃ³n cambiÃ³ las reglas del juego. PodrÃ­a ejecutar varias mÃ¡quinas virtuales (VM) en una sola mÃ¡quina fÃ­sica, creando diferentes entornos para realizar pruebas sin saturar mi habitaciÃ³n con pilas de hardware.

> ğŸ‘‰ Entonces, este es el trato, amigos: tÃ³mate un tiempo para intercambiar ideas, investigar y decidir cuÃ¡l serÃ¡ el enfoque principal de tu laboratorio. Â¿EstÃ¡s sumergiÃ©ndote en la seguridad inalÃ¡mbrica? Â¿QuizÃ¡s tienes curiosidad por la ingenierÃ­a social? Una vez que hayas resuelto tu misiÃ³n, Â¡podemos pasar al meollo de la cuestiÃ³n de construir este patio de juegos digital! ğŸ®
</aside>

## Sistemas a Usar

**Windows:** Depende el Ã¡rea de seguridad en la que trabajen es lo que van a necesitar en hardware y software no es lo mismo ser un forense que un pentester. Como tengo que hacer reportes me sirve trabajar en Windows. Uso mucho ONENOTE para llevar todo el material que estoy estudiando y trabajando.

AdemÃ¡s, la cantidad de herramientas de gestiÃ³n de disco, archivos, documentos y grÃ¡ficos al nivel que necesito trabajarlas no estÃ¡n disponibles en Linux. Lo mÃ¡s probable es que te convenga iniciar virtualizando Kali, por lo que podrÃ¡s mantener como nativo a Windows.

**Linux:** La mayorÃ­a de herramientas estÃ¡n disponibles en Linux y, de hecho, Kali ya soluciona eso. Tenemos una guia de como crear tu laboratorio y resolver los problemas mÃ¡s comunes: [Crea tu Laboratorio de Pentest con Kali Linux, Metasploitable y Beebox](https://achirou.com/crea-tu-laboratorio-de-pentest-con-kali-linux-metasploitable-y-beebox/)

## Hardware

Arranquen con lo que tengan, al final todos empezamos con lo que tenemos. Si van a mejorar o comprar un equipo mi recomendaciÃ³n PC es mejor que notebook por mÃºltiples razones. Va a depender del Ã¡rea en la que trabajen, si necesitan movilidad no les queda mÃ¡s que ir por una notebook.

Fuera de la Ãºnica ventaja que tiene la notebook que es la de ser portable un PC es superior en todo. Menor costo, mayor capacidad de expansiÃ³n, fÃ¡cil y econÃ³mico de reparar, y cuando comparas la â€œmismaâ€ versiÃ³n entre PC y notebook la de pc tiende a ser MUY superior en rendimiento.

Otra gran ventaja son los monitores, mi recomendaciÃ³n es de 2 o 3 es ideal. Yo en este momento estoy usando 4. Realmente usar varios monitores simplifica mucho el trabajo. En uno podrÃ¡n trabajar con Kali y en el otro realizar un informe mÃ¡s cÃ³modamente. Nuevamente esto depende del Ã¡rea en el que estÃ©n. En este momento estoy trabajando en un i5 (algo viejo de 10ma) con 64gb de RAM y no he tenido problemas virtualizando.

![Gestor de tareas](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/gestor-tareas.png?raw=true)

Por citar un ejemplo si usan un scanner como ZAP verÃ¡n que estos comen mucha RAM y si guardan la secciÃ³n mucho disco. Me refiero a que pueden gastar 10gb/16GB de RAM y 70gb â€“ 150gb de disco tan solo con una sola aplicaciÃ³n. Por eso las recomendaciones y buenas prÃ¡cticas a la hora de crear su mÃ¡quina virtual con Linux.

![Propiedades zap](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/propiedades-zap.png?raw=true)

|  | MÃ­nimo | Recomendado |
| --- | --- | --- |
| CPU | I3 / Ryzen3 o superior | I5 / Ryzen 5 o superior |
| Memoria | 16gb | 32gb+ |
| SO | W10/kali | W11/Kali everything |
| Disco | SSD 512 | SSD 1TB+ |
| Placa de Video | No vital | Puede ser Ãºtil si desean colocar 3 o mÃ¡s monitores. Esto dependerÃ¡ del motherboard y las entradas de sus monitores. |

## InstalaciÃ³n de Metasploitable 2

Metasploitable es un sistema operativo que ha sido diseÃ±ado con el objetivo de ser vulnerado con sencillez y gracias a esto poder llevar a cabo cientos de pruebas de penetraciÃ³n para mejorar la seguridad y prevenir ataques a corto, mediano o largo plazo.

### QuÃ© es Metasploitable

Es un sistema de Linux que ha sido desarrollado con las mÃ¡s altas vulnerabilidades de seguridad en el cual podemos llevar a cabo todas las pruebas necesarias para perfeccionar las tÃ©cnicas de seguridad o conocer cÃ³mo sacar el mÃ¡ximo provecho a aplicaciones diseÃ±adas para este fin.

Metasploitable no cuenta con entorno grÃ¡fico y se recomienda ser usado en redes privadas exclusivamente debido a su tolerancia a ataques. Es de cÃ³digo abierto y permite realizar pruebas de vulnerabilidades en archivos incrustados, atributos de archivo, permisos, etc. A continuaciÃ³n veremos cÃ³mo instalar Metasploitable en VirtualBox para realizar las diversas pruebas segÃºn sea la necesidad de cada uno.

### Requisitos previos

Para esto serÃ¡ necesario contar con lo siguiente:

- [VIRTUALBOX](https://www.virtualbox.org/wiki/Downloads)
- [https://sourceforge.net/projects/metasploitable/files/Metasploitable2/](https://sourceforge.net/projects/metasploitable/files/Metasploitable2/)

Para iniciar el proceso podremos crear la mÃ¡quina virtual en VirtualBox pulsando en el icono **Nueva** ubicado en el costado superior y en la ventana desplegada ingresaremos los siguientes valores:

![metasploitable1](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable1.png?raw=true)

Pulsamos en **Next** y en la siguiente ventana podremos dejar el valor de la memoria RAM por defecto, 2048MB, o bien asignar un poco mÃ¡s si asÃ­ lo deseamos.

![metasploitable2](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable2.png?raw=true)

Pulsamos en **Next** y en la siguiente ventana seleccionamos la opciÃ³n **Crear un disco duro virtual ahora:**

![metasploitable3](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable3.png?raw=true)

Pulsamos en **Next** y en Terminar.

![metasploitable4](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable4.png?raw=true)

Ahora pulsaremos en el botÃ³n **Iniciar** para comenzar el proceso de instalaciÃ³n del sistema.

![metasploitable5](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable5.png?raw=true)

Este proceso tarda alrededor de 5 minutos y veremos lo siguiente:

![metasploitable6](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable6.png?raw=true)

Las credenciales de acceso son:

- **Usuario: msfadmin**
- **ContraseÃ±a: msfadmin**

![metasploitable7](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/metasploitable7.png?raw=true)

De esta forma podremos usar Metasploitable con todas las pruebas necesarias.

## Bee-Box

Si deseamos instalar en una mÃ¡quina virtual el proyecto es [Bee-Box](https://sourceforge.net/projects/bwapp/files/bee-box/bee-box_v1.6.7z/download). **Bee-box es una mÃ¡quina virtual Linux con todo preinstalado**. AsÃ­ solo deberemos explorar todas las vulnerabilidades bWAPP sin correr el riesgo de desfigurar el sitio web bWAPP. AdemÃ¡s con la mÃ¡quina virtual podremos intentar conseguir acceso root.

I**nstalaremos la versiÃ³n Bee-Box de bWAPP**, para ello descomprimimos el archivo que descargamos y los creara una carpeta con muchos archivos vmdk a nuestro servidor local. A continuaciÃ³n crearemos la mÃ¡quina virtual asignando una versiÃ³n Linux Ubuntu de 32 bit.

![Bee-Box1](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox1.png?raw=true)

![Bee-Box2](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox2.png?raw=true)

A continuaciÃ³n deberemos seleccionar el archivo descargado denominado **bee-box.vdmk**

![Bee-Box3](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox3.png?raw=true)

![Bee-Box4](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox4.png?raw=true)

Antes de iniciar la mÃ¡quina virtual, recordemos que deberemos configurar la red esto la hacemos desde **ConfiguraciÃ³n** para poder tener una direcciÃ³n IP y poder acceder a la mÃ¡quina virtual desde otro ordenador.

![Bee-Box5](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox5.png?raw=true)

Hacemos clic en crear y luego en Iniciar, para que la mÃ¡quina virtual comience a funcionar, una vez cargada veremos el escritorio.

![Bee-Box6](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/beebox6.png?raw=true)

### Recomendaciones

**Excluye directorios en el antivirus**. La soluciÃ³n de seguridad de tu equipo puede estar escaneando los archivos de la mÃ¡quina virtual cada vez que se acceda a ellos, reduciendo el rendimiento. El antivirus no puede ver el interior de la mÃ¡quina virtual para detectar virus que se ejecuten en sistema operativo invitado, por lo que esta exploraciÃ³n es inÃºtil. Para acelerar las cosas, aÃ±ade el directorio de la mÃ¡quina virtual a la lista de exclusiones de tu antivirus.

**Suspender en lugar de apagar**. Cuando hayas terminado de utilizar la mÃ¡quina virtual, es posible que desees guardar su estado en lugar de apagarla completamente. La prÃ³xima vez que la necesites, basta hacer un doble clic para ponerla en marcha. El sistema operativo huÃ©sped se reanudarÃ¡ donde lo dejÃ³ en lugar de arrancar desde cero. La funciÃ³n es similar a la hibernaciÃ³n o suspensiÃ³n. La aplicaciÃ³n guarda el contenido de la memoria de la mÃ¡quina virtual en un archivo en el disco duro, para cargarla cuando lo requiera el usuario.

**Para mÃ¡quinas virtuales, mejora tu hardware**. Todo lo dicho anteriormente es una ayuda para mejorar el rendimiento de nuestras mÃ¡quinas virtuales pero, no hay milagros al utilizar este recurso tecnolÃ³gico. AquÃ­ sÃ­ vale el dicho de cuanto mÃ¡s mejor. Como habrÃ¡s visto, para que funcionen adecuadamente tenemos que cederles recursos de nuestra mÃ¡quina principal. Y no pocos. Si tu hardware no es lo suficientemente potente y las utilizas, puedes bloquear por completo tu equipo en cuanto ejecutes un sistema que requiera un cierto nivel de potencia, si bien el consumo de recursos de, por ejemplo, Windows 11 o DOS es totalmente diferente.

> ğŸ‘‰ Ya tenÃ©s listo tu laboratorio para pentest
</aside>

Al seguir esta guÃ­a, has construido un laboratorio de pentest sÃ³lido que te brinda la oportunidad de enfrentarte a escenarios del mundo real de manera controlada. ContinÃºa explorando nuevas vulnerabilidades, tÃ©cnicas de explotaciÃ³n y soluciones de seguridad. Tu viaje en el mundo del pentesting acaba de comenzar, Â¡sigamos avanzando hacia la maestrÃ­a en ciberseguridad!

Con estos pasos hemos aprendido a instalar Kali Linux en VirtualBox y asÃ­ tener a mano un sistema vital tanto para trabajar como para nuestro laboratorio.