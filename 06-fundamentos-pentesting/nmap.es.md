---
title: "Qu칠 es Nmap y c칩mo usarlo"  
subtitle: "Aprende a usar Nmap, una herramienta poderosa para el escaneo de puertos y mapeo de redes"  
tags: ["pentesting", "ciberseguridad"]  
authors: ["blindma1den", "lorenagubaira"]

---

Solo podemos hablar de pruebas de penetraci칩n y escaneo de vulnerabilidades analizando uno de los esc치neres m치s poderosos, completos y veteranos que podemos encontrar en la red: [Nmap](https://nmap.org/).

Este software es uno de los m치s utilizados para buscar hosts dentro de una red local, pero tambi칠n permite el descubrimiento de hosts en Internet para verificar si est치n conectados a la red. Adem치s, podemos realizar escaneos de puertos extensivos y avanzados para comprobar si tenemos alg칰n servicio en ejecuci칩n que no est칠 protegido por el firewall, e incluso podemos ver si tenemos un firewall en un host particular. Otra opci칩n que podemos realizar con este programa es saber qu칠 sistema operativo utiliza un host espec칤fico. Si escaneamos una computadora con Windows, indicar치 que estamos escaneando un sistema operativo Windows, y lo mismo con Linux o Unix.

Este programa es de c칩digo abierto y multiplataforma, aunque lo m치s com칰n es usarlo en sistemas operativos Linux para realizar tareas de pruebas de penetraci칩n. Es el primer paso para realizar una intrusi칩n en los sistemas e intentar hackear la computadora de manera adecuada, siempre con fines 칠ticos para descubrir posibles vulnerabilidades.

![captura de pantalla de zenmap](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/zenmap.jpg)

> Este software tiene muchas opciones avanzadas y tambi칠n cuenta con una interfaz gr치fica opcional llamada Zenmap que podemos usar de manera r치pida y f치cil.

Es una herramienta esencial, ya que nos permite identificar posibles vulnerabilidades que podr칤an ser utilizadas como puntos de entrada por atacantes. Al ejecutar NMAP en un objetivo espec칤fico, podr칤amos observar esos dispositivos, servidores, servicios, firewalls y m치s, relacionados con el primero. Para hacer esto, la herramienta env칤a diferentes tipos de paquetes (ping, eco y dirigidos a puertos) para sondear una IP o un rango de IPs.

![Rango](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/rango.png?raw=true)

## Usando NMAP a trav칠s de la l칤nea de comandos

Normalmente, esta herramienta se ejecuta a trav칠s de la terminal (aunque existen adaptaciones con interfaz gr치fica) con el formato:

```bash
$ nmap <Flags> <Target>
```

La ejecuci칩n sin par치metros realiza un escaneo simple a los 1000 puertos m치s comunes, realizando previamente un ping para ver si la computadora est치 activa (si la computadora no responde al ping, no se realizar치 la prueba de puertos).

### Flags de la l칤nea de comandos de NMAP

Incontables Flags indicar치n configuraciones particulares a la ejecuci칩n. Entre las m치s utilizadas, encontramos:

- **-sn**, para determinar si un objetivo est치 disponible.

- **sT**, para determinar qu칠 puertos est치n abiertos en un objetivo usando TCP.

- **O**, para identificar el sistema operativo y la versi칩n del software que se ejecuta en un objetivo.

- **A**, para el escaneo completo del objetivo.

Identificar una vulnerabilidad en un puerto proporciona al atacante un excelente vector de ataque que, con suerte y experiencia, puede comprometer la m치quina. Es una herramienta muy flexible con multitud de opciones.

## Nmap con scripts NSE

Aunque esta herramienta naci칩 como un esc치ner de puertos, gracias a los **scripts NSE** incluidos por defecto (que se pueden descargar de multitud de p치ginas web) es posible utilizarla como una herramienta completa para buscar vulnerabilidades en redes y sistemas. Los scripts NSE utilizan la potencia de Nmap, pero tambi칠n son capaces de explotar vulnerabilidades conocidas en ciertos programas, por lo que es muy 칰til actualizarla frecuentemente con los 칰ltimos scripts. Tanto NSE como Nmap forman un equipo realmente poderoso para ayudar al hacker a realizar pentesting.

Algunas de las funciones que podemos realizar son atacar servidores Samba probando cientos de usuarios y contrase침as, lo mismo con servidores FTP e incluso SSH, y podemos atacar una gran cantidad de servicios para explotar vulnerabilidades.

> 游댠 Cuando se publica una vulnerabilidad p칰blica, los desarrolladores incorporan este exploit en Nmap NSE para explotarlo de manera f치cil y r치pida, con el fin de ayudar a los pen-testers en la tarea de explotar el sistema comprometido.

## Razones para usar Nmap

- Puede reconocer r치pidamente todos los dispositivos, incluidos servidores, enrutadores y tel칠fonos m칩viles, entre otros. Y puede hacerlo tanto en redes 칰nicas como m칰ltiples. Por lo tanto, es una muy buena opci칩n para el sector empresarial donde se utilizan diferentes redes.
- Nos ayuda a hacer una identificaci칩n de los servicios que se ejecutan en el sistema. Los servidores web, DNS y otras aplicaciones tambi칠n ser치n escaneados. Esto permite detectar diferentes versiones de las aplicaciones con mucha precisi칩n, lo que ayuda a detectar vulnerabilidades existentes.
- Puedes ubicar informaci칩n sobre los sistemas operativos que se ejecutan en los dispositivos. Tambi칠n proporciona informaci칩n muy detallada, como las versiones de los paquetes, lo que nos ayuda mucho a planificar diferentes enfoques durante la penetraci칩n de los paquetes.
- En auditor칤as de seguridad y escaneo de vulnerabilidades, Nmap puede atacar sistemas utilizando scripts existentes en el motor de scripts de Nmap.
- Tiene una interfaz gr치fica llamada Zenmap, que nos ayuda a realizar mapeos visuales de redes. Esto es bueno para dar mayor usabilidad a la herramienta y facilita que los informes se generen de manera m치s detallada, intuitiva y accesible.

## Ventajas de NMAP

Con Nmap, podemos obtener una serie de ventajas, que no solo nos ayudar치n a tener m치s funcionalidades, sino que tambi칠n pueden influir en su facilidad de uso. Algunas de ellas pueden ser:

- El sistema operativo determina cu치ndo Nmap puede escanear puertos abiertos. Al menos uno de ellos tiene que estar abierto en el sistema al momento de escanear.
- Se pueden determinar puertos abiertos que est치n escuchando, pero a menudo este puerto puede no identificar el sistema operativo.
- Si se intenta identificar la generaci칩n del SO mediante un sondeo, se puede crear una superposici칩n basada en la informaci칩n determinada a partir del sondeo en s칤, y esto no se considerar치 autoritativo. Despu칠s de todo, la identificaci칩n del SO se determina mediante un algoritmo que realiza un an치lisis de los puertos abiertos. Muchos elementos pueden hacer que esta identificaci칩n sea err칩nea.

## Desventajas de NMAP

Pero como en todo, encontraremos algunas desventajas, que pueden hacernos cambiar de opini칩n sobre si usarlo o no. Por ejemplo:

- Nmap puede ser utilizado como una herramienta de hacker. En cualquier caso, es posible que la seguridad del equipo no lo permita.
- Se requiere NCAP y se debe instalar un controlador de filtro para la red. NCAP puede interactuar con otros software y, a su vez, causar problemas a trav칠s de desbordamientos operativos.
- NCAP y NMAP est치n destinados a ser transparentes, sin embargo, pueden tener interacciones con software instalado en el entorno. Esto puede ser una preocupaci칩n para cualquier administrador, por lo que se recomienda realizar las pruebas adecuadas antes de usarlo.
- Los dispositivos escaneados pueden responder de manera inesperada, especialmente si son muy diferentes de las m치quinas habituales, como equipos m칠dicos, por ejemplo.
- Puede ser bloqueado por firewalls locales, tanto en el sistema que realiza el escaneo como en el sistema que se est치 escaneando. Esto puede limitar considerablemente los datos disponibles.
- Puede ser bloqueado por software como antivirus, por ejemplo. Esto puede afectar la profundidad y precisi칩n de todos los datos proporcionados por Nmap.
- La metodolog칤a de Nmap intenta ser lo m치s eficiente posible, pero puede que no sea capaz de realizar escaneos en ciertos puntos de la red local donde se est치 realizando el escaneo.

## Alternativas a NMAP

NMAP no es la 칰nica herramienta que podemos encontrar. Hay muchas en internet que pueden hacer la funci칩n correctamente, incluso algunas con nuevas caracter칤sticas. Por ejemplo:

- **FING:** Es una opci칩n orientada a dispositivos m칩viles. Nos permite realizar un an치lisis r치pido de la red en la que estamos conectados. Con facilidades para detectar intrusos y realizar control sobre la actividad realizada en la red.
- **Angry IP Scanner:** Una vez m치s, este es un programa multiplataforma. Gratis y con la posibilidad de realizar un an치lisis de varias interfaces de red. Es muy r치pido al escanear puertos.
- **WinMTR:** En este caso estamos ante un ejemplo que es muy f치cil de usar y tambi칠n gratuito. Pero solo est치 disponible para Windows, lo que lo limita un poco. Puede diagnosticar problemas en las conexiones, y al mismo tiempo, nos da opciones de ping y traceroute. De todas maneras, es uno de los m치s b치sicos.
- **Scapy:** Aqu칤 no encontramos un analizador de redes. Pero s칤 permite manipular paquetes, y actuar como un sniffer. Esto hace posible descifrar paquetes WEB, analizar VLANs y verificar redes VoIP. Es uno de los m치s complejos de toda la lista.
- **Fingbox:** Es una buena opci칩n tanto para computadoras m칩viles como de escritorio. Tiene una versi칩n gratuita, pero la m치s completa es de pago.
