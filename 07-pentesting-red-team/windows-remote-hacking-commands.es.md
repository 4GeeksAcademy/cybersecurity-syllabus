---
title: "Comandos CMD de Windows para Hacking Remoto"
subtitle: "Domina la Línea de Comandos de Windows para el Control Remoto de Sistemas"
tags: ["pentesting", "ciberseguridad", "red-team"]
authors: ["blindma1den", "lorenagubaira"]

---

## Comandos CMD remotos de Windows para hackear

Muchos hackers nuevos provienen de Windows, pero rara vez (o nunca) utilizan sus herramientas de línea de comandos integradas. Como hacker, a menudo se verá obligado a controlar el sistema de destino utilizando sólo comandos de Windows y sin GUI.

Aunque nos encantaría tener Meterpreter de Metasploit en el objetivo y utilizar todas sus capacidades en el sistema propio, eso no siempre es posible. Algunos exploits sólo nos permitirán obtener un shell CMD en el sistema Windows de destino.

En estos casos, necesitará comprender cómo controlar el sistema estrictamente a través del símbolo del sistema, sin tener nunca la comodidad y familiaridad de la GUI de Windows.

Lo que quiero hacer en este tutorial es demostrar algunos comandos de Windows en un sistema Windows. Ejecutaré los comandos de Windows desde un sistema Kali remoto en el objetivo.

### Paso 1: Conéctese a un sistema Windows remoto desde Kali

Windows hace una distinción entre comandos que se pueden ejecutar físicamente en el sistema y aquellos que se pueden ejecutar de forma remota. No podemos asumir que un comando que podemos ejecutar mientras estamos en el sistema se ejecutará de forma remota.

Aquí sólo nos interesan aquellos que se pueden ejecutar de forma remota. En mi caso, me conectaré al sistema de destino con una conexión Netcat, pero un shell de comandos generado por Metasploit u otro funcionará igual de bien.

### Paso 2: comandos básicos

En muchos sentidos, los comandos CMD de Windows son similares a los comandos de Linux/Unix (Unix precedió a estos comandos por más de una década, y Microsoft tomó mucho prestado de él). En su forma más básica, necesitamos cambiar directorios dentro del sistema de archivos. Al igual que Linux, Windows utiliza el comando **cd** (cambiar directorio). Para viajar a la raíz del sistema de directorios, simplemente podemos escribir:

```bash
cd \
```

Además, podemos subir un nivel en la estructura del directorio escribiendo:

```bash
cd ..
```

![Buffer 21](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer21.png?raw=true)

Si queremos ver el contenido de un directorio, escribimos **dir** como se ve arriba. Algunos otros comandos clave y básicos incluyen:

```bash
from <nombre de archivo>
```

Esto eliminará el archivo, similar a Linux **rm**.

```bash
type <nombre de archivo>
```

Esto mostrará el contenido del archivo, similar al **cat** de Linux.

Como puede ver a continuación, utilicé el tipo de letra para mostrar el contenido del archivo confidencial.txt. Luego **elimino** el archivo confidencial.txt y, cuando vuelvo a mostrar su contenido, aparece el mensaje "El sistema no puede encontrar el archivo especificado".

![Buffer 22](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer22.png?raw=true)

Para crear un nuevo directorio, usamos el comando **md** (crear directorio) (en Linux, es mkdir). Para crear un directorio llamado "nuevodirectorio", escribimos:

```bash 
md nuevo directorio
```

![Buffer 23](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer23.png?raw=true)

Después de crear un nuevo directorio, ahora podemos ejecutar **dir** y ver el nuevo directorio que creamos.

### Paso 3: comandos de red

Cuando estamos en el sistema remoto, es posible que necesitemos información de red. Para ello disponemos de dos comandos básicos, **ipconfig** y **netstat**. ipconfig es muy similar a **ifconfig** de Linux, como se ve a continuación.

![Buffer 24](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer24.png?raw=true)

Para ver las conexiones de red del sistema, podemos escribir **netstat**, tal como en Linux.

**netstat**

![Buffer 25](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer25.png?raw=true)

### Paso 4: Ver procesos

A menudo, cuando estamos en un sistema remoto, necesitaremos ver una lista de los procesos en ejecución. Desde la GUI, por supuesto, podemos usar el Administrador de tareas (Ctrl + Alt + Supr), pero desde el símbolo del sistema remoto usamos la **lista de tareas**.

**lista de tareas**

![Buffer 26](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer26.png?raw=true)

Si queremos encontrar un solo proceso, podríamos usar el filtro **findtr** (buscar cadena). Esto funciona de manera similar a **grep** en Linux. Entonces, para encontrar el proceso llamado "explorador", podríamos escribir:

**Lista de tareas | Explorador findtr**

![Buffer 27](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer27.png?raw=true)

Tenga en cuenta que utilizamos la canalización (|), al igual que en Linux, para enviar los resultados del comando de **lista de tareas** al comando de filtrado, **findstr** .

Si quiero finalizar un proceso, puedo usar el comando taskkill. Requiere el PID (ID de proceso) del proceso que queremos eliminar. En este caso, el proceso del explorador tiene un PID de 1532, así que para finalizarlo, puedo escribir:

**tareakill /PID 1532 /F**

![Buffer 28](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer28.png?raw=true)

Donde **/F** significa "forzar la muerte".

### Paso 5: busque las cuentas de usuario

Si queremos ver los usuarios en el sistema de destino, podemos escribir:

`usuarios de la red`

![Buffer 29](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer29.png?raw=true)

Como puede ver, este sistema tiene tres usuarios: invitado, administrador y víctima, con el nombre apropiado.

### Paso 6: ejecute un navegador en el destino

Mientras operamos el sistema desde el símbolo del sistema, podemos ejecutar algunas aplicaciones, como por ejemplo el navegador web. Internet Explorer se llama **iexplore** (puede no estar disponible en versiones de windows más modernas) en el símbolo del sistema y podemos encontrarlo en "Archivos de programa" con la versión de 64 bits o en "Archivos de programa (x86)" con la versión de 32 bits. Entonces, si quiero abrir Internet Explorer en el sistema remoto desde el símbolo del sistema y abrir **Wonderhowto.com**, escribiría:

Iexplore [www.google.com](http://www.google.com/)`

Cuando lo hacemos, esto abre Internet Explorer en el sistema de destino y va a **google.com**. Esto podría ser realmente útil si tenía configurado un enlace [XSS](https://4geeks.com/es/lesson/como-realizar-o-prevenir-el-ataque-xss-secuencias-de-comandos-entre-sitios) malicioso o deseaba utilizar **el módulo de entrega web de Metasploit** y necesitaba que el objetivo fuera a un servidor web.

Además, es posible que queramos que el sistema de destino vaya a nuestro servidor web en Kali. Podríamos iniciar el servidor web Apache y luego dirigir el sistema de destino a nuestro servidor web donde podemos tener algún software malicioso.

Podemos escribir:

```bash 
Iexplore <dirección IP>
```

Como puede ver a continuación, hemos dirigido el sistema de destino a nuestro servidor web en Kali.

![Buffer 29](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/buffer29.png?raw=true)